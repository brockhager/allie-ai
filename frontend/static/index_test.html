<!DOCTYPE html>
<html>
<head>
    <title>Allie - AI Assistant</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; height: 100vh; overflow: hidden; }
        .nav-bar { background: rgba(255, 255, 255, 0.95); border-bottom: 1px solid #ddd; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
        .nav-tabs { display: flex; padding: 0 20px; }
        .nav-tab { padding: 16px 24px; cursor: pointer; border-bottom: 3px solid transparent; font-weight: 600; color: #666; display: flex; align-items: center; gap: 8px; transition: all 0.3s; }
        .nav-tab:hover { color: #667eea; background: rgba(102, 126, 234, 0.05); }
        .nav-tab.active { color: #667eea; border-bottom-color: #667eea; background: rgba(102, 126, 234, 0.1); }
        .content-area { height: calc(100vh - 60px); position: relative; }
        .content-frame { width: 100%; height: 100%; border: none; display: none; }
        .content-frame.active { display: block; }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="showTab('allie')">
                <span>ðŸ’¬</span>
                <span>Allie UI</span>
            </div>
            <div class="nav-tab" onclick="showTab('fact')">
                <span>âœ…</span>
                <span>Fact Checking</span>
            </div>
            <div class="nav-tab" onclick="showTab('quick')">
                <span>ðŸŽ“</span>
                <span>Quick Teach</span>
            </div>
        </div>
    </nav>
    <div class="content-area">
        <iframe id="allie" class="content-frame active" src="/ui"></iframe>
        <iframe id="fact" class="content-frame" data-src="/fact-check"></iframe>
        <iframe id="quick" class="content-frame" data-src="/quick-teach"></iframe>
    </div>
    <script>
        // Lazy load iframes
        const loadedIframes = new Set(['allie']); // allie is loaded by default
        
        function showTab(tab) {
            document.querySelectorAll('.content-frame').forEach(f => f.classList.remove('active'));
            const iframe = document.getElementById(tab);
            iframe.classList.add('active');
            
            // Lazy load iframe if not already loaded
            if (!loadedIframes.has(tab)) {
                const dataSrc = iframe.getAttribute('data-src');
                if (dataSrc) {
                    iframe.src = dataSrc;
                    loadedIframes.add(tab);
                }
            }
            
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            event.target.closest('.nav-tab').classList.add('active');
        }
    </script>
</body>
</html>